# PART 1 기본편

## CHAPTER 1 Apache Airflow 살펴보기
### p.4 1.1 데이터 파이프라인 소개
- 방향성 비순환 그래프 Directed Acyclic Graph, DAG
  - 그래프는 화살표 방향성의 끝점을 포함하되 반복이나 순환을 허용하지 않음(비순환)
  - 비순환 속성은 태스크 간의 순환 실행을 방지하기 때문에 매우 중요함

#### p.9 1.1.4 워크플로 매니저를 이용한 파이프라인 실행
- 워크플로 매니저마다 워크플로 정의 방식의 차이가 있음
  - Oozie는 정적 파일(XML)을 사용하여 워크플로를 정의하기 때문에 읽기 쉽지만 유연하지 않음
  - Luigi와 Airflow는 코드로 워크플로 정의 가능 -> 좀 더 유연하지만 읽기 및 테스트는 어려울 수 있음(워크플로 구현하는 코딩 능력에 따라 잘라짐)
- 워크플로 관리자가 제공하는 기능 범위
  - Make나 Luigi는 워크플로 스케줄을 위한 기본 기능 제공 X -> 반복 스케줄로 워크플로를 실행하기 위해서는 Cron과 같은 추가 도구를 사용해야 함

### p.10 1.2 Airflow 소개
#### p.10 1.2.1 파이썬 코드로 유연한 파이프라인 정의
- 파이프라인이나 워크플로 태스크를 방향성 비순환 그래프(DAG)로 정의 가능
- 태스크는 노드로 정의하고 의존성은 태스크 노드 사이에 화살표로 정의함
- 파이썬 스크립트로 DAG 구조를 설명하고 구상함
- 일반적으로 DAG 파일은 주어진 DAG에 대한 태스크 집합과 태스크 간의 의존성을 기술하고, Airflow는 DAG 구조를 식별하기 위해 코드를 파싱함
- Airflow DAG를 파이썬 코드로 정의하여 많은 유연성 제공 가능

#### p.11 1.2.2 파이프라인 스케줄링 및 실행
- Airflow 주요 구성 요소
  - Airflow 스케줄러: DAG를 분석하고 현재 시점에서 DAG의 스케줄이 지난 경우 Airflowㅇ 워커에 DAG의 태스크를 예약
  - Airflow 워커: 예약된 태스크를 선택하고 실행함
  - Airflow 웹서버: 스케줄러에서 분석한 DAG를 시각화하고 DAG 실행과 결과를 확인할 수 있는 주요 인터페이스 제공

#### p.16 1.2.4 점진적 로딩 및 백필
- Airflow의 스케줄 기능 중 강력한 장점
  - DAG에 정의된 특정 시점에 트리거할 수 있음
  - 최종 시점과 예상되는 다음 스케줄 주기를 상세하게 알려주는 것 -> 각각의 주기로 나누고 각 주기별로 DAG 실행 가능
- Airflow의 특성은 데이터 파이프라인을 점진적으로 실행할 수 있도록 구성이 가능하기 때문에 효율적인 데이터 파이프라인 구축 가능
- 점진적인 파이프라인에서 각 DAG는 매번 전체 데이터 세트를 다시 처리할 필요 없이 해당 시간 슬롯에 대한 데이터만 처리 가능
- 대규모 데이터 세트를 처리해야 할 경우, 기존 결과에 대한 태스크 전체를 다시 수행하는 것을 방지하여 많은 시간, 비용 절감 가능
- 스케줄 주기가 백필 개념과 결합하여 더욱 강력하게 활용 가능
  - 이를 통해 새로 생성한 DAG를 과거 시점 및 기간에 대해 실행 가능
  - 과거 특정 기간에 대해 DAG를 실행해 새로운 데이터를 손쉽게 생성 (또는 백필)할 수 있음
  - 과거 실행 결과를 삭제한 다음, 태스크 코드를 변경한 후에 삭제된 과거 태스크를 쉽게 재실행할 수 있기 때문에 필요할 때 전체 데이터 세트를 간단하게 재구성해 처리 가능